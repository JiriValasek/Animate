<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Animate: Control.ControlPanel Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
<!-- custom scripts -->
<script type="text/javascript" src="Animate_Customizations/Scripts/custom_resize.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
  <iframe id="customnavbar" src="Animate_Customizations/HTML/navbar.html"></iframe>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('class_control_1_1_control_panel.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="class_control_1_1_control_panel-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Control.ControlPanel Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class providing funcionality to a <a class="el" href="namespace_control.html" title="Classes related to the Control component of the Animate Workbench.">Control</a> panel inside the TaskView.  
 <a href="class_control_1_1_control_panel.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for Control.ControlPanel:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_control_1_1_control_panel.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1446047ebbc4c67ad683539012ff7e84"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_control_1_1_control_panel.html#a1446047ebbc4c67ad683539012ff7e84">__init__</a> (self, <a class="el" href="class_control_1_1_control_panel.html#aaf99331174bbf41f86be4507f65af7c0">control_proxy</a>, <a class="el" href="class_control_1_1_control_panel.html#a540c2afe3eab2da894d87b9da847f72f">form</a>)</td></tr>
<tr class="memdesc:a1446047ebbc4c67ad683539012ff7e84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialization method for <a class="el" href="class_control_1_1_control_panel.html" title="Class providing funcionality to a Control panel inside the TaskView.">ControlPanel</a>.  <a href="#a1446047ebbc4c67ad683539012ff7e84">More...</a><br /></td></tr>
<tr class="separator:a1446047ebbc4c67ad683539012ff7e84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2a1b19519e1733f65213099e29beba5"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_control_1_1_control_panel.html#ad2a1b19519e1733f65213099e29beba5">playClicked</a> (self)</td></tr>
<tr class="memdesc:ad2a1b19519e1733f65213099e29beba5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Feedback method called when play button was clicked.  <a href="#ad2a1b19519e1733f65213099e29beba5">More...</a><br /></td></tr>
<tr class="separator:ad2a1b19519e1733f65213099e29beba5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6eb0ee8a179fade477c526aa9ae0c4b"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_control_1_1_control_panel.html#aa6eb0ee8a179fade477c526aa9ae0c4b">pauseClicked</a> (self)</td></tr>
<tr class="memdesc:aa6eb0ee8a179fade477c526aa9ae0c4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Feedback method called when pause button was clicked.  <a href="#aa6eb0ee8a179fade477c526aa9ae0c4b">More...</a><br /></td></tr>
<tr class="separator:aa6eb0ee8a179fade477c526aa9ae0c4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a87db86d0aa194215bec0aaea51fc2a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_control_1_1_control_panel.html#a9a87db86d0aa194215bec0aaea51fc2a">rewindClicked</a> (self)</td></tr>
<tr class="memdesc:a9a87db86d0aa194215bec0aaea51fc2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Feedback method called when rewind button was clicked.  <a href="#a9a87db86d0aa194215bec0aaea51fc2a">More...</a><br /></td></tr>
<tr class="separator:a9a87db86d0aa194215bec0aaea51fc2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86d9442163ab52ef49551f38649460dc"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_control_1_1_control_panel.html#a86d9442163ab52ef49551f38649460dc">recordClicked</a> (self)</td></tr>
<tr class="memdesc:a86d9442163ab52ef49551f38649460dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Feedback method called when record button was clicked.  <a href="#a86d9442163ab52ef49551f38649460dc">More...</a><br /></td></tr>
<tr class="separator:a86d9442163ab52ef49551f38649460dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa54898925516e395e664f37a2580be80"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_control_1_1_control_panel.html#aa54898925516e395e664f37a2580be80">exportClicked</a> (self)</td></tr>
<tr class="memdesc:aa54898925516e395e664f37a2580be80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Feedback method called when export button was clicked.  <a href="#aa54898925516e395e664f37a2580be80">More...</a><br /></td></tr>
<tr class="separator:aa54898925516e395e664f37a2580be80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8beed6224f18e2934bb5c14580354276"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_control_1_1_control_panel.html#a8beed6224f18e2934bb5c14580354276">sliderChanged</a> (self)</td></tr>
<tr class="memdesc:a8beed6224f18e2934bb5c14580354276"><td class="mdescLeft">&#160;</td><td class="mdescRight">Feedback method called when slider position is changed.  <a href="#a8beed6224f18e2934bb5c14580354276">More...</a><br /></td></tr>
<tr class="separator:a8beed6224f18e2934bb5c14580354276"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affd4c45a429028fd834b8fa2ea714921"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_control_1_1_control_panel.html#affd4c45a429028fd834b8fa2ea714921">setInvalidButtons</a> (self)</td></tr>
<tr class="memdesc:affd4c45a429028fd834b8fa2ea714921"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to enable/disable buttons according to a <code>last clicked</code> button.  <a href="#affd4c45a429028fd834b8fa2ea714921">More...</a><br /></td></tr>
<tr class="separator:affd4c45a429028fd834b8fa2ea714921"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad3c9c2b8d26cde0bf341569f0223989"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_control_1_1_control_panel.html#aad3c9c2b8d26cde0bf341569f0223989">reject</a> (self)</td></tr>
<tr class="memdesc:aad3c9c2b8d26cde0bf341569f0223989"><td class="mdescLeft">&#160;</td><td class="mdescRight">Feedback method called when <a class="el" href="namespace_control.html" title="Classes related to the Control component of the Animate Workbench.">Control</a> panel is closing.  <a href="#aad3c9c2b8d26cde0bf341569f0223989">More...</a><br /></td></tr>
<tr class="separator:aad3c9c2b8d26cde0bf341569f0223989"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22828769a0d1a61289db39a74b4e26de"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_control_1_1_control_panel.html#a22828769a0d1a61289db39a74b4e26de">getStandardButtons</a> (self, *args)</td></tr>
<tr class="memdesc:a22828769a0d1a61289db39a74b4e26de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to set just one button (close) to close the dialog.  <a href="#a22828769a0d1a61289db39a74b4e26de">More...</a><br /></td></tr>
<tr class="separator:a22828769a0d1a61289db39a74b4e26de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64c57265ab7778ee29b9e24719a47cb6"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_control_1_1_control_panel.html#a64c57265ab7778ee29b9e24719a47cb6">isAllowedAlterSelection</a> (self)</td></tr>
<tr class="memdesc:a64c57265ab7778ee29b9e24719a47cb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to tell FreeCAD if dialog is allowed to alter a selection.  <a href="#a64c57265ab7778ee29b9e24719a47cb6">More...</a><br /></td></tr>
<tr class="separator:a64c57265ab7778ee29b9e24719a47cb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a725b36cfe363093c68f998d048c49c1e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_control_1_1_control_panel.html#a725b36cfe363093c68f998d048c49c1e">isAllowedAlterView</a> (self)</td></tr>
<tr class="memdesc:a725b36cfe363093c68f998d048c49c1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to tell FreeCAD if dialog is allowed to alter a view.  <a href="#a725b36cfe363093c68f998d048c49c1e">More...</a><br /></td></tr>
<tr class="separator:a725b36cfe363093c68f998d048c49c1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38433cef4aa5a86b21a7329852affb9a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_control_1_1_control_panel.html#a38433cef4aa5a86b21a7329852affb9a">isAllowedAlterDocument</a> (self)</td></tr>
<tr class="memdesc:a38433cef4aa5a86b21a7329852affb9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to tell FreeCAD if dialog is allowed to alter a document.  <a href="#a38433cef4aa5a86b21a7329852affb9a">More...</a><br /></td></tr>
<tr class="separator:a38433cef4aa5a86b21a7329852affb9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4992472ed7aa8176a3f2cea479cee2bc"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_control_1_1_control_panel.html#a4992472ed7aa8176a3f2cea479cee2bc">play</a> (self, t)</td></tr>
<tr class="memdesc:a4992472ed7aa8176a3f2cea479cee2bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to show an animation frame at an animation time <code>t</code> during playing.  <a href="#a4992472ed7aa8176a3f2cea479cee2bc">More...</a><br /></td></tr>
<tr class="separator:a4992472ed7aa8176a3f2cea479cee2bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebff69649353ff03a73df73f94067a6e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_control_1_1_control_panel.html#aebff69649353ff03a73df73f94067a6e">rewind</a> (self, t)</td></tr>
<tr class="memdesc:aebff69649353ff03a73df73f94067a6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to show an animation frame at an animation time <code>t</code> during rewind.  <a href="#aebff69649353ff03a73df73f94067a6e">More...</a><br /></td></tr>
<tr class="separator:aebff69649353ff03a73df73f94067a6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe39f4ab7e8fbdb8f29d8c2a960ef4a1"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_control_1_1_control_panel.html#afe39f4ab7e8fbdb8f29d8c2a960ef4a1">record</a> (self, t)</td></tr>
<tr class="memdesc:afe39f4ab7e8fbdb8f29d8c2a960ef4a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to show and save an animation frame at an animation time <code>t</code>.  <a href="#afe39f4ab7e8fbdb8f29d8c2a960ef4a1">More...</a><br /></td></tr>
<tr class="separator:afe39f4ab7e8fbdb8f29d8c2a960ef4a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4fd0ce8b0d2ba5f7ee13b99e440d50c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_control_1_1_control_panel.html#ae4fd0ce8b0d2ba5f7ee13b99e440d50c">distributeTime</a> (self, t)</td></tr>
<tr class="memdesc:ae4fd0ce8b0d2ba5f7ee13b99e440d50c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to distribute a time <code>t</code> to children Trajectories.  <a href="#ae4fd0ce8b0d2ba5f7ee13b99e440d50c">More...</a><br /></td></tr>
<tr class="separator:ae4fd0ce8b0d2ba5f7ee13b99e440d50c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc7f7673b5c6326979bf9b1d0a074f53"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_control_1_1_control_panel.html#afc7f7673b5c6326979bf9b1d0a074f53">updateCollisions</a> (self)</td></tr>
<tr class="memdesc:afc7f7673b5c6326979bf9b1d0a074f53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to update collisions from <a class="el" href="namespace_collision_detector.html" title="Classes related to the CollisionDetector component of the Animate Workbench.">CollisionDetector</a> children.  <a href="#afc7f7673b5c6326979bf9b1d0a074f53">More...</a><br /></td></tr>
<tr class="separator:afc7f7673b5c6326979bf9b1d0a074f53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6da7944a7a17e717b8f0e3a6a252ee32"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_control_1_1_control_panel.html#a6da7944a7a17e717b8f0e3a6a252ee32">resetCollisions</a> (self)</td></tr>
<tr class="memdesc:a6da7944a7a17e717b8f0e3a6a252ee32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to reset collisions from <a class="el" href="namespace_collision_detector.html" title="Classes related to the CollisionDetector component of the Animate Workbench.">CollisionDetector</a> children.  <a href="#a6da7944a7a17e717b8f0e3a6a252ee32">More...</a><br /></td></tr>
<tr class="separator:a6da7944a7a17e717b8f0e3a6a252ee32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a1624f61efdc9359785d25a3f2c75e1"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_control_1_1_control_panel.html#a3a1624f61efdc9359785d25a3f2c75e1">showChanges</a> (self)</td></tr>
<tr class="memdesc:a3a1624f61efdc9359785d25a3f2c75e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to show changes made to objects, collisions.  <a href="#a3a1624f61efdc9359785d25a3f2c75e1">More...</a><br /></td></tr>
<tr class="separator:a3a1624f61efdc9359785d25a3f2c75e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb61a5c198d71b4bafb84ad597e0f978"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_control_1_1_control_panel.html#acb61a5c198d71b4bafb84ad597e0f978">saveImage</a> (self)</td></tr>
<tr class="memdesc:acb61a5c198d71b4bafb84ad597e0f978"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to save current view as a PNG image.  <a href="#acb61a5c198d71b4bafb84ad597e0f978">More...</a><br /></td></tr>
<tr class="separator:acb61a5c198d71b4bafb84ad597e0f978"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5541d41f355d1cff0376683382d26c42"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_control_1_1_control_panel.html#a5541d41f355d1cff0376683382d26c42">findSequences</a> (self, files)</td></tr>
<tr class="memdesc:a5541d41f355d1cff0376683382d26c42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to find sequences between files.  <a href="#a5541d41f355d1cff0376683382d26c42">More...</a><br /></td></tr>
<tr class="separator:a5541d41f355d1cff0376683382d26c42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bf1b4b192408118cfe622f85089f7c0"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_control_1_1_control_panel.html#a1bf1b4b192408118cfe622f85089f7c0">showSequences</a> (self, sequences)</td></tr>
<tr class="memdesc:a1bf1b4b192408118cfe622f85089f7c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to show sequences to export on a dialog panel.  <a href="#a1bf1b4b192408118cfe622f85089f7c0">More...</a><br /></td></tr>
<tr class="separator:a1bf1b4b192408118cfe622f85089f7c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a946f0939d30addc67dc6ad5571c2c9f4"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_control_1_1_control_panel.html#a946f0939d30addc67dc6ad5571c2c9f4">exportConfirmed</a> (self)</td></tr>
<tr class="memdesc:a946f0939d30addc67dc6ad5571c2c9f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Feedback method called when confirm button was clicked.  <a href="#a946f0939d30addc67dc6ad5571c2c9f4">More...</a><br /></td></tr>
<tr class="separator:a946f0939d30addc67dc6ad5571c2c9f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e8c87d86bc673fbb57b59a6b3a9061c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_control_1_1_control_panel.html#a1e8c87d86bc673fbb57b59a6b3a9061c">exportAborted</a> (self)</td></tr>
<tr class="memdesc:a1e8c87d86bc673fbb57b59a6b3a9061c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Feedback method called when abort button was clicked.  <a href="#a1e8c87d86bc673fbb57b59a6b3a9061c">More...</a><br /></td></tr>
<tr class="separator:a1e8c87d86bc673fbb57b59a6b3a9061c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8739a9adf954930ac56b0bb2ae17b051"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_control_1_1_control_panel.html#a8739a9adf954930ac56b0bb2ae17b051">closeExportSubform</a> (self)</td></tr>
<tr class="memdesc:a8739a9adf954930ac56b0bb2ae17b051"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method used to close the part of the dialog panel used for video exporting.  <a href="#a8739a9adf954930ac56b0bb2ae17b051">More...</a><br /></td></tr>
<tr class="separator:a8739a9adf954930ac56b0bb2ae17b051"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab35ff845839099ba3e0078deda7d79d2"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_control_1_1_control_panel.html#ab35ff845839099ba3e0078deda7d79d2">installPyPNG</a> (self)</td></tr>
<tr class="memdesc:ab35ff845839099ba3e0078deda7d79d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to install necessary pyPNG library into FreeCAD.  <a href="#ab35ff845839099ba3e0078deda7d79d2">More...</a><br /></td></tr>
<tr class="separator:ab35ff845839099ba3e0078deda7d79d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47f75be1a9b762971bc009c43afaef44"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_control_1_1_control_panel.html#a47f75be1a9b762971bc009c43afaef44">writeFramerateChunk</a> (self, framerate, image_path)</td></tr>
<tr class="memdesc:a47f75be1a9b762971bc009c43afaef44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to write a framerate into a PNG image as one of its chunks.  <a href="#a47f75be1a9b762971bc009c43afaef44">More...</a><br /></td></tr>
<tr class="separator:a47f75be1a9b762971bc009c43afaef44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b49ef0e081728d18f529d3413c7bc1e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_control_1_1_control_panel.html#a4b49ef0e081728d18f529d3413c7bc1e">readFramerateChunk</a> (self, image_path)</td></tr>
<tr class="memdesc:a4b49ef0e081728d18f529d3413c7bc1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to read a framerate inserted as one of a PNG image's chunks.  <a href="#a4b49ef0e081728d18f529d3413c7bc1e">More...</a><br /></td></tr>
<tr class="separator:a4b49ef0e081728d18f529d3413c7bc1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aaf99331174bbf41f86be4507f65af7c0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_control_1_1_control_panel.html#aaf99331174bbf41f86be4507f65af7c0">control_proxy</a></td></tr>
<tr class="memdesc:aaf99331174bbf41f86be4507f65af7c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">A proxy to an associated <code><a class="el" href="namespace_control.html" title="Classes related to the Control component of the Animate Workbench.">Control</a></code> class.  <a href="#aaf99331174bbf41f86be4507f65af7c0">More...</a><br /></td></tr>
<tr class="separator:aaf99331174bbf41f86be4507f65af7c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a540c2afe3eab2da894d87b9da847f72f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_control_1_1_control_panel.html#a540c2afe3eab2da894d87b9da847f72f">form</a></td></tr>
<tr class="memdesc:a540c2afe3eab2da894d87b9da847f72f"><td class="mdescLeft">&#160;</td><td class="mdescRight">A QDialog instance show in the TaskView.  <a href="#a540c2afe3eab2da894d87b9da847f72f">More...</a><br /></td></tr>
<tr class="separator:a540c2afe3eab2da894d87b9da847f72f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af997285cbf0251e3c7274519cc17aa91"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_control_1_1_control_panel.html#af997285cbf0251e3c7274519cc17aa91">timer</a></td></tr>
<tr class="memdesc:af997285cbf0251e3c7274519cc17aa91"><td class="mdescLeft">&#160;</td><td class="mdescRight">A QTimer for timing animations.  <a href="#af997285cbf0251e3c7274519cc17aa91">More...</a><br /></td></tr>
<tr class="separator:af997285cbf0251e3c7274519cc17aa91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a048bdbf2e96f3183b750f7b7306ca36a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_control_1_1_control_panel.html#a048bdbf2e96f3183b750f7b7306ca36a">last_clicked</a></td></tr>
<tr class="memdesc:a048bdbf2e96f3183b750f7b7306ca36a"><td class="mdescLeft">&#160;</td><td class="mdescRight">A str showing which button was pressed last.  <a href="#a048bdbf2e96f3183b750f7b7306ca36a">More...</a><br /></td></tr>
<tr class="separator:a048bdbf2e96f3183b750f7b7306ca36a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f701c7beeef45e6abe3b498638581c4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_control_1_1_control_panel.html#a6f701c7beeef45e6abe3b498638581c4">record_prefix</a></td></tr>
<tr class="memdesc:a6f701c7beeef45e6abe3b498638581c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">A str prefix for an image file name.  <a href="#a6f701c7beeef45e6abe3b498638581c4">More...</a><br /></td></tr>
<tr class="separator:a6f701c7beeef45e6abe3b498638581c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dcaaf8fd41e44878b093198bcf0134d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_control_1_1_control_panel.html#a5dcaaf8fd41e44878b093198bcf0134d">image_number</a></td></tr>
<tr class="memdesc:a5dcaaf8fd41e44878b093198bcf0134d"><td class="mdescLeft">&#160;</td><td class="mdescRight">An int number of a next recorded image.  <a href="#a5dcaaf8fd41e44878b093198bcf0134d">More...</a><br /></td></tr>
<tr class="separator:a5dcaaf8fd41e44878b093198bcf0134d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac48a6da684c80114c58b20d5e8458df2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_control_1_1_control_panel.html#ac48a6da684c80114c58b20d5e8458df2">trv_sequences</a></td></tr>
<tr class="memdesc:ac48a6da684c80114c58b20d5e8458df2"><td class="mdescLeft">&#160;</td><td class="mdescRight">A QTreeView showing list of recorded sequences.  <a href="#ac48a6da684c80114c58b20d5e8458df2">More...</a><br /></td></tr>
<tr class="separator:ac48a6da684c80114c58b20d5e8458df2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aead45d91a199a6c5c9104c2ed0947463"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_control_1_1_control_panel.html#aead45d91a199a6c5c9104c2ed0947463">lyt_export</a></td></tr>
<tr class="memdesc:aead45d91a199a6c5c9104c2ed0947463"><td class="mdescLeft">&#160;</td><td class="mdescRight">A QHBoxLayout with a <code>confirm</code> and <code>abort</code> buttons.  <a href="#aead45d91a199a6c5c9104c2ed0947463">More...</a><br /></td></tr>
<tr class="separator:aead45d91a199a6c5c9104c2ed0947463"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa7200092d16a9b8c4504f35cab2819d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_control_1_1_control_panel.html#aaa7200092d16a9b8c4504f35cab2819d">btn_confirm</a></td></tr>
<tr class="memdesc:aaa7200092d16a9b8c4504f35cab2819d"><td class="mdescLeft">&#160;</td><td class="mdescRight">A QPushButton to confirm sequence to export.  <a href="#aaa7200092d16a9b8c4504f35cab2819d">More...</a><br /></td></tr>
<tr class="separator:aaa7200092d16a9b8c4504f35cab2819d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c11609f9c8fa8da63213d662ac60111"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_control_1_1_control_panel.html#a5c11609f9c8fa8da63213d662ac60111">btn_abort</a></td></tr>
<tr class="memdesc:a5c11609f9c8fa8da63213d662ac60111"><td class="mdescLeft">&#160;</td><td class="mdescRight">A QPushButton to abort exporting a sequence.  <a href="#a5c11609f9c8fa8da63213d662ac60111">More...</a><br /></td></tr>
<tr class="separator:a5c11609f9c8fa8da63213d662ac60111"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class providing funcionality to a <a class="el" href="namespace_control.html" title="Classes related to the Control component of the Animate Workbench.">Control</a> panel inside the TaskView. </p>
<p>This class enables user to play, pause, rewind, record, export and seek through an animation.</p>
<p>To create an instance of this class do: </p><div class="fragment"><div class="line">form = FreeCADGui.PySideUic.loadUi(</div><div class="line">    path.join(PATH_TO_UI, <span class="stringliteral">&quot;AnimationControl.ui&quot;</span>))</div><div class="line">form.setWindowTitle(title)</div><div class="line">panel = ControlPanel(fp, form)</div></div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="_control_8py_source.html#l00083">83</a> of file <a class="el" href="_control_8py_source.html">Control.py</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a1446047ebbc4c67ad683539012ff7e84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1446047ebbc4c67ad683539012ff7e84">&#9670;&nbsp;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Control.ControlPanel.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>control_proxy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>form</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialization method for <a class="el" href="class_control_1_1_control_panel.html" title="Class providing funcionality to a Control panel inside the TaskView.">ControlPanel</a>. </p>
<p>A class instance is created. A proxy for an associated <code><a class="el" href="namespace_control.html" title="Classes related to the Control component of the Animate Workbench.">Control</a></code> is added and the control properties are set to read-only as not to change when control panel is opened. A form and timer are assigned. <code>Pause</code> button is disabled as no animation is playing.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control_proxy</td><td>A proxy to a <code><a class="el" href="namespace_control.html" title="Classes related to the Control component of the Animate Workbench.">Control</a></code> so properties can be set read-only. </td></tr>
    <tr><td class="paramname">form</td><td>A Qt dialog loaded from a file. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_control_8py_source.html#l00127">127</a> of file <a class="el" href="_control_8py_source.html">Control.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keyword">def </span>__init__(self, control_proxy, form):</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        super(ControlPanel, self).__init__()</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        self.control_proxy = control_proxy</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        <span class="comment"># Disable editing of Control properties</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <span class="keywordflow">for</span> prop <span class="keywordflow">in</span> self.control_proxy.PropertiesList:</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            self.control_proxy.setEditorMode(prop, 1)</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <span class="comment"># Add QDialog to be displayed in freeCAD</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        self.form = form</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <span class="comment"># Connect callback functions</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        self.form.btn_play.clicked.connect(self.playClicked)</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        self.form.btn_pause.clicked.connect(self.pauseClicked)</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        self.form.btn_rewind.clicked.connect(self.rewindClicked)</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        self.form.btn_record.clicked.connect(self.recordClicked)</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        self.form.btn_export.clicked.connect(self.exportClicked)</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        self.form.sld_seek.valueChanged.connect(self.sliderChanged)</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        <span class="comment"># Create timer for the animations</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        self.timer = QTimer(self)</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <span class="comment"># Disable pause button as animation is not running when the panel is</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <span class="comment"># opened</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        self.last_clicked = <span class="stringliteral">&quot;pause&quot;</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        self.setInvalidButtons()</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a8739a9adf954930ac56b0bb2ae17b051"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8739a9adf954930ac56b0bb2ae17b051">&#9670;&nbsp;</a></span>closeExportSubform()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Control.ControlPanel.closeExportSubform </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method used to close the part of the dialog panel used for video exporting. </p>
<p>The QTreeView with sequence names and their numbers of frames are closed. Then &lsquo;'Confirm&rsquo;<code>and</code>'Abort'` buttons are removed and the rest of buttons is returned to the default state (the same as if pause button was pressed). </p>

<p class="definition">Definition at line <a class="el" href="_control_8py_source.html#l00887">887</a> of file <a class="el" href="_control_8py_source.html">Control.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    <span class="keyword">def </span>closeExportSubform(self):</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;        <span class="comment"># Close all parts of export subform and remove them from the panel</span></div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;        self.trv_sequences.close()</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;        self.form.lyt_main.removeWidget(self.trv_sequences)</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        self.btn_abort.close()</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        self.lyt_export.removeWidget(self.btn_abort)</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        self.btn_confirm.close()</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        self.lyt_export.removeWidget(self.btn_confirm)</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        self.form.lyt_main.removeItem(self.lyt_export)</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        self.last_clicked = <span class="stringliteral">&quot;pause&quot;</span></div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;        self.setInvalidButtons()</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="ae4fd0ce8b0d2ba5f7ee13b99e440d50c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4fd0ce8b0d2ba5f7ee13b99e440d50c">&#9670;&nbsp;</a></span>distributeTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Control.ControlPanel.distributeTime </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to distribute a time <code>t</code> to children Trajectories. </p>
<p>List of children is loaded. If a child is <code><a class="el" href="namespace_trajectory.html" title="Classes related to the Trajectory component of the Animate Workbench.">Trajectory</a></code>, the time is set to it and its children are added to the list.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>A time to distribute to all child <code>Trajectories</code>. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_control_8py_source.html#l00555">555</a> of file <a class="el" href="_control_8py_source.html">Control.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <span class="keyword">def </span>distributeTime(self, t):</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        <span class="comment"># Load list of objects inside Control group</span></div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        objects = self.control_proxy.Group</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        <span class="comment"># Go through them, their children and update time,</span></div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        <span class="comment"># if they are Trajectories</span></div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        <span class="keywordflow">while</span> len(objects) &gt; 0:</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;            obj = objects.pop(0)</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;            <span class="keywordflow">if</span> obj.Proxy.__class__.__name__ == <span class="stringliteral">&quot;TrajectoryProxy&quot;</span>:</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                obj.Time = t</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                objects += obj.Group</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a1e8c87d86bc673fbb57b59a6b3a9061c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e8c87d86bc673fbb57b59a6b3a9061c">&#9670;&nbsp;</a></span>exportAborted()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Control.ControlPanel.exportAborted </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Feedback method called when abort button was clicked. </p>
<p>The part of the dialog panel used for video exporting is closed. </p>

<p class="definition">Definition at line <a class="el" href="_control_8py_source.html#l00876">876</a> of file <a class="el" href="_control_8py_source.html">Control.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    <span class="keyword">def </span>exportAborted(self):</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;        <span class="comment"># Close the export subform</span></div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;        self.closeExportSubform()</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="aa54898925516e395e664f37a2580be80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa54898925516e395e664f37a2580be80">&#9670;&nbsp;</a></span>exportClicked()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Control.ControlPanel.exportClicked </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Feedback method called when export button was clicked. </p>
<p>Invalid buttons are disabled. An <code>Export Path</code> is checked for files. The files are checked for sequences. Sequences are shown with buttons to confirm or cancel the selection. </p>

<p class="definition">Definition at line <a class="el" href="_control_8py_source.html#l00267">267</a> of file <a class="el" href="_control_8py_source.html">Control.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keyword">def </span>exportClicked(self):</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <span class="comment"># Disable everything</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        self.last_clicked = <span class="stringliteral">&quot;export&quot;</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        self.setInvalidButtons()</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <span class="comment"># Try to load file names from an export folder</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="keywordflow">try</span>:</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            files = os.listdir(self.control_proxy.ExportPath)</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <span class="keywordflow">except</span> FileNotFoundError <span class="keyword">as</span> e:</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            QMessageBox.warning(<span class="keywordtype">None</span>, <span class="stringliteral">&#39;Export Path error&#39;</span>, str(e))</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            <span class="keywordflow">return</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <span class="comment"># Find all recorded sequences between the files</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        sequences = self.findSequences(files)</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        <span class="keywordflow">if</span> sequences != {}:</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;            <span class="comment"># Show them in an export menu</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            self.showSequences(sequences)</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            <span class="comment"># Show error if none found</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            QMessageBox.warning(<span class="keywordtype">None</span>, <span class="stringliteral">&#39;Export error&#39;</span>,</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                                <span class="stringliteral">&quot;No sequences to export.&quot;</span>)</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            self.last_clicked = <span class="stringliteral">&quot;pause&quot;</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            self.setInvalidButtons()</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a946f0939d30addc67dc6ad5571c2c9f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a946f0939d30addc67dc6ad5571c2c9f4">&#9670;&nbsp;</a></span>exportConfirmed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Control.ControlPanel.exportConfirmed </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Feedback method called when confirm button was clicked. </p>
<p>Buttons are disabled, framerate is loaded from the first image chunks, selected sequence name is used to create an <code>image name</code> template and a <code>video name</code> which can be used in a FFMPEG command. Such a commnad is executed to convert the video, if FFMPEG is installed. Otherwise warnings are shown. </p>

<p class="definition">Definition at line <a class="el" href="_control_8py_source.html#l00817">817</a> of file <a class="el" href="_control_8py_source.html">Control.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    <span class="keyword">def </span>exportConfirmed(self):</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        <span class="comment"># Disable export and confirm buttons</span></div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;        self.btn_confirm.setEnabled(<span class="keyword">False</span>)</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;        self.btn_abort.setEnabled(<span class="keyword">False</span>)</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;        <span class="comment"># Prepare arguments for ffmpeg conversion</span></div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;        selected_seq = \</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;            self.trv_sequences.selectionModel().selectedRows()[0].data()</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;        <span class="comment"># Load framerate</span></div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;        image_name = selected_seq + <span class="stringliteral">&quot;-&quot;</span> + (NAME_NUMBER_FORMAT % 0) + <span class="stringliteral">&quot;.png&quot;</span></div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;        image_path = path.join(self.control_proxy.ExportPath, image_name)</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;        <span class="comment">#TODO load fps from the first image</span></div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;        fps = self.readFramerateChunk(image_path)</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;        <span class="keywordflow">if</span> fps == -1.0:</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;            QMessageBox.warning(</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;                            <span class="keywordtype">None</span>, <span class="stringliteral">&#39;Loading framerate failed&#39;</span>,</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;                            <span class="stringliteral">&quot;Framerate was not loaded, this recorded image\n&quot;</span></div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;                            + <span class="stringliteral">&quot;sequence cannot to be exported.\n&quot;</span></div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;                            + <span class="stringliteral">&quot;Check Report View for more info.&quot;</span>)</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;            <span class="keywordflow">return</span></div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;        image_name = <span class="stringliteral">&#39;&quot;&#39;</span> + path.normpath(</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                path.join(self.control_proxy.ExportPath, selected_seq + <span class="stringliteral">&quot;-&quot;</span></div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;                          + NAME_NUMBER_FORMAT + <span class="stringliteral">&quot;.png&quot;</span>)) + <span class="stringliteral">&#39;&quot;&#39;</span></div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;        video_name = <span class="stringliteral">&#39;&quot;&#39;</span> + path.normpath(</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;                path.join(self.control_proxy.ExportPath,</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;                          selected_seq + <span class="stringliteral">&quot;.mp4&quot;</span>)) + <span class="stringliteral">&#39;&quot;&#39;</span></div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;        <span class="comment"># Prepare an ffmpeg command</span></div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;        export_command = <span class="stringliteral">&#39;ffmpeg -r &#39;</span> + str(fps) + <span class="stringliteral">&#39; -i &#39;</span> + image_name \</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;            + <span class="stringliteral">&#39; -c:v libx264 -pix_fmt yuv420p &#39;</span> + video_name</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;        <span class="comment"># Try to run the command</span></div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;        <span class="keywordflow">try</span>:</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;            return_val = subprocess.call(export_command)</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        <span class="keywordflow">except</span> OSError <span class="keyword">as</span> e:</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;            <span class="keywordflow">if</span> e.errno == os.errno.ENOENT:</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;                QMessageBox.warning(<span class="keywordtype">None</span>, <span class="stringliteral">&#39;FFMPEG not available&#39;</span>,</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;                                    <span class="stringliteral">&quot;FFMPEG is necessary to export video.\n&quot;</span></div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                                    + <span class="stringliteral">&quot;Please install it&quot;</span>)</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;            <span class="keywordflow">else</span>:</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;                QMessageBox.warning(<span class="keywordtype">None</span>, <span class="stringliteral">&#39;Something failed&#39;</span>, str(e))</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        <span class="keywordflow">if</span> return_val == 0:</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;            QMessageBox.information(<span class="keywordtype">None</span>, <span class="stringliteral">&#39;Export successfull!&#39;</span>,</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;                                    <span class="stringliteral">&quot;FFMPEG successfully converted image &quot;</span></div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;                                    + <span class="stringliteral">&quot;sequence into a video.&quot;</span>)</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;            QMessageBox.warning(<span class="keywordtype">None</span>, <span class="stringliteral">&#39;FFMPEG unsuccessfull&#39;</span>,</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;                                <span class="stringliteral">&quot;FFMPEG failed to convert sequence into &quot;</span></div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;                                + <span class="stringliteral">&quot;a video&quot;</span>)</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;        <span class="comment"># Close the export subform</span></div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;        self.closeExportSubform()</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a5541d41f355d1cff0376683382d26c42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5541d41f355d1cff0376683382d26c42">&#9670;&nbsp;</a></span>findSequences()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Control.ControlPanel.findSequences </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>files</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to find sequences between files. </p>
<p>Files are scanned for sequences, the valid sequences are recognized and number of frames is counted.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">files</td><td>A list of string file names.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A dict with sequence names and numbers of frames. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_control_8py_source.html#l00653">653</a> of file <a class="el" href="_control_8py_source.html">Control.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    <span class="keyword">def </span>findSequences(self, files):</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;        <span class="comment"># Check there are any files</span></div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        <span class="keywordflow">if</span> len(files) == 0:</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;            <span class="keywordflow">return</span> {}</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        <span class="comment"># Go through the files</span></div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;        sequences = {}</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        <span class="keywordflow">for</span> f <span class="keywordflow">in</span> files:</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;            <span class="comment"># Check they fit the name pattern</span></div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;            img_name = re.search(<span class="stringliteral">r&quot;(seq\d+)-(\d+)(?=\.png)&quot;</span>, f)</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;            <span class="keywordflow">if</span> img_name <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                <span class="comment"># Add new sequences</span></div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                <span class="keywordflow">if</span> img_name.group(1) <span class="keywordflow">not</span> <span class="keywordflow">in</span> list(sequences.keys()):</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                    <span class="comment"># Add sequence if it&#39;s starting with 0</span></div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                    <span class="keywordflow">if</span> int(img_name.group(2)) == 0:</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                        sequences[img_name.group(1)] = 1</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                        last_frame = int(img_name.group(2))</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;                <span class="comment"># Compute number of successive frames</span></div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                <span class="keywordflow">elif</span> int(img_name.group(2)) == (last_frame + 1):</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;                    sequences[img_name.group(1)] += 1</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                    last_frame += 1</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                <span class="comment"># Remove sequence if a frame is missing</span></div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;                <span class="keywordflow">else</span>:</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                    sequences.pop(img_name.group(1))</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        <span class="comment"># Leave sequences longer than 1 frame</span></div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        sequences = {key: val <span class="keywordflow">for</span> key, val <span class="keywordflow">in</span> sequences.items() <span class="keywordflow">if</span> val &gt; 1}</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        <span class="keywordflow">return</span> sequences</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a22828769a0d1a61289db39a74b4e26de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22828769a0d1a61289db39a74b4e26de">&#9670;&nbsp;</a></span>getStandardButtons()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Control.ControlPanel.getStandardButtons </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to set just one button (close) to close the dialog. </p>
<pre class="fragment">*args: A tuple of unused arguments from Qt.
</pre> 
<p class="definition">Definition at line <a class="el" href="_control_8py_source.html#l00361">361</a> of file <a class="el" href="_control_8py_source.html">Control.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="keyword">def </span>getStandardButtons(self, *args):</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        <span class="keywordflow">return</span> QDialogButtonBox.Close</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="ab35ff845839099ba3e0078deda7d79d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab35ff845839099ba3e0078deda7d79d2">&#9670;&nbsp;</a></span>installPyPNG()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Control.ControlPanel.installPyPNG </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to install necessary pyPNG library into FreeCAD. </p>
<p>The pyPNG library is not part of FreeCAD and so we need to add it using pip. This method tries to do so. It may prove crutial to run FreeCAD as administrator to receive permissions required by pip.</p>
<dl class="section return"><dt>Returns</dt><dd>True if pyPNG was installed successfully and False otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_control_8py_source.html#l00909">909</a> of file <a class="el" href="_control_8py_source.html">Control.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    <span class="keyword">def </span>installPyPNG(self):</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;        <span class="keyword">import</span> pip</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;        <span class="keywordflow">if</span> hasattr(pip, <span class="stringliteral">&quot;main&quot;</span>):</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;            FreeCAD.Console.PrintLog(<span class="stringliteral">&quot;Installing pyPNG.\n&quot;</span>)</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;            <span class="keywordflow">if</span> pip.main([<span class="stringliteral">&quot;install&quot;</span>, <span class="stringliteral">&quot;pyPNG&quot;</span>]) != 0:</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;                FreeCAD.Console.PrintError(<span class="stringliteral">&quot;pyPNG installation failed.\n&quot;</span>)</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">False</span></div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;            FreeCAD.Console.PrintLog(<span class="stringliteral">&quot;Installation successful.\n&quot;</span>)</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">True</span></div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;            <span class="keyword">import</span> pip._internal</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;            <span class="keywordflow">if</span> hasattr(pip._internal, <span class="stringliteral">&quot;main&quot;</span>):</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;                <span class="keywordflow">if</span> pip._internal.main([<span class="stringliteral">&quot;install&quot;</span>, <span class="stringliteral">&quot;pyPNG&quot;</span>]) != 0:</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;                    FreeCAD.Console.PrintError(<span class="stringliteral">&quot;pyPNG installation failed.\n&quot;</span>)</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">False</span></div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;                FreeCAD.Console.PrintLog(<span class="stringliteral">&quot;Installation successful.\n&quot;</span>)</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">True</span></div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;            <span class="keywordflow">else</span>:</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;                FreeCAD.Console.PrintLog(</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;                        <span class="stringliteral">&quot;Unable to import and instal pyPNG.\n&quot;</span>)</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">False</span></div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a38433cef4aa5a86b21a7329852affb9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38433cef4aa5a86b21a7329852affb9a">&#9670;&nbsp;</a></span>isAllowedAlterDocument()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Control.ControlPanel.isAllowedAlterDocument </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to tell FreeCAD if dialog is allowed to alter a document. </p>
<dl class="section return"><dt>Returns</dt><dd></dd>
<dd>
True this dialog does change a document. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_control_8py_source.html#l00388">388</a> of file <a class="el" href="_control_8py_source.html">Control.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keyword">def </span>isAllowedAlterDocument(self):</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">True</span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a64c57265ab7778ee29b9e24719a47cb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64c57265ab7778ee29b9e24719a47cb6">&#9670;&nbsp;</a></span>isAllowedAlterSelection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Control.ControlPanel.isAllowedAlterSelection </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to tell FreeCAD if dialog is allowed to alter a selection. </p>
<dl class="section return"><dt>Returns</dt><dd></dd>
<dd>
False this dialog does not change a selection. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_control_8py_source.html#l00370">370</a> of file <a class="el" href="_control_8py_source.html">Control.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keyword">def </span>isAllowedAlterSelection(self):</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">False</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a725b36cfe363093c68f998d048c49c1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a725b36cfe363093c68f998d048c49c1e">&#9670;&nbsp;</a></span>isAllowedAlterView()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Control.ControlPanel.isAllowedAlterView </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to tell FreeCAD if dialog is allowed to alter a view. </p>
<dl class="section return"><dt>Returns</dt><dd></dd>
<dd>
True this dialog does change a view. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_control_8py_source.html#l00379">379</a> of file <a class="el" href="_control_8py_source.html">Control.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keyword">def </span>isAllowedAlterView(self):</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">True</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="aa6eb0ee8a179fade477c526aa9ae0c4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6eb0ee8a179fade477c526aa9ae0c4b">&#9670;&nbsp;</a></span>pauseClicked()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Control.ControlPanel.pauseClicked </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Feedback method called when pause button was clicked. </p>
<p>Invalid buttons are disabled in this method and that's it. </p>

<p class="definition">Definition at line <a class="el" href="_control_8py_source.html#l00189">189</a> of file <a class="el" href="_control_8py_source.html">Control.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keyword">def </span>pauseClicked(self):</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <span class="comment"># Enable everything except for the pause button</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        self.last_clicked = <span class="stringliteral">&quot;pause&quot;</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        self.setInvalidButtons()</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a4992472ed7aa8176a3f2cea479cee2bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4992472ed7aa8176a3f2cea479cee2bc">&#9670;&nbsp;</a></span>play()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Control.ControlPanel.play </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to show an animation frame at an animation time <code>t</code> during playing. </p>
<p>Current clock time is loaded. If the pause button was clicked, an animation is stopped. Otherwise the animation time <code>t</code> is distributed to appropriate children. If the animation time <code>t</code> exceeded <code>Stop Time</code>, the animation is stopped. Lastly next frame time is computed as well as pause time (to stick with real time if computation did not exceeded <code>Step Time</code>). Finally the timer is set to show the next animation frame after precomputed pause.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>An animation time to generate an animation frame at. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_control_8py_source.html#l00405">405</a> of file <a class="el" href="_control_8py_source.html">Control.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="keyword">def </span>play(self, t):</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <span class="comment"># Load current time</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        time_ = time.clock()</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        <span class="comment"># Check pause button was not pressed</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        <span class="keywordflow">if</span> self.last_clicked == <span class="stringliteral">&quot;pause&quot;</span>:</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;            <span class="keywordflow">return</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        <span class="comment"># Disribute the animation time to trajectories so that they change</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <span class="comment"># positions of all animated objects</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        self.distributeTime(t)</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        self.updateCollisions()</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        self.showChanges()</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        <span class="comment"># Display current progres on the seek slider</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        self.form.sld_seek.setValue(</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;            numpy.round(100*(t - self.control_proxy.StartTime)</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                        / (self.control_proxy.StopTime</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                           - self.control_proxy.StartTime)))</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <span class="comment"># Stop the animation if the animation time reached a range boundary</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        <span class="keywordflow">if</span> t &gt;= self.control_proxy.StopTime:</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            self.last_clicked = <span class="stringliteral">&quot;pause&quot;</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;            self.setInvalidButtons()</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;            <span class="keywordflow">return</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        <span class="comment"># Compute an animation time for the next frame</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        next_t = min(t + self.control_proxy.StepTime,</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                     self.control_proxy.StopTime)</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        <span class="comment"># Compute pause period so that animaiton time roughly corresponds to</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        <span class="comment"># the real time</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        pause = round(1000*(self.control_proxy.StepTime + time_</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                            - time.clock()))</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        pause = pause*(pause &gt; 0)</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        <span class="comment"># Setup a timer to show next frame if animaiton wasn&#39;t paused</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        <span class="keywordflow">if</span> self.last_clicked != <span class="stringliteral">&quot;pause&quot;</span>:</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;            self.timer.singleShot(pause, <span class="keyword">lambda</span>: self.play(next_t))</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="ad2a1b19519e1733f65213099e29beba5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2a1b19519e1733f65213099e29beba5">&#9670;&nbsp;</a></span>playClicked()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Control.ControlPanel.playClicked </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Feedback method called when play button was clicked. </p>
<p>Invalid buttons are disabled. Active View's animation is disabled (Necessary). Slider position is checked for invalid position (at the end) and if position is plausible, all collisions are reset, current time is extrapolated from the slider and an animation is played. </p>

<p class="definition">Definition at line <a class="el" href="_control_8py_source.html#l00162">162</a> of file <a class="el" href="_control_8py_source.html">Control.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keyword">def </span>playClicked(self):</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <span class="comment"># Disable everything except for the pause button</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        self.last_clicked = <span class="stringliteral">&quot;play&quot;</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        self.setInvalidButtons()</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        FreeCADGui.ActiveDocument.ActiveView.setAnimationEnabled(<span class="keyword">False</span>)</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <span class="comment"># Check that we are not already at the end of an animation range</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <span class="keywordflow">if</span> self.form.sld_seek.value() == self.form.sld_seek.maximum():</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            <span class="comment"># Show error if we are</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            QMessageBox.warning(<span class="keywordtype">None</span>, <span class="stringliteral">&#39;Error while playing&#39;</span>,</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                                <span class="stringliteral">&quot;The animation is at the end.&quot;</span>)</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            self.pauseClicked()</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            <span class="comment"># Reset collisions</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            self.resetCollisions()</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            <span class="comment"># Load current time from the time slider and start playing</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            t = self.form.sld_seek.value() \</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                * (self.control_proxy.StopTime</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                   - self.control_proxy.StartTime) / 100 \</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                + self.control_proxy.StartTime</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            self.play(t)</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a4b49ef0e081728d18f529d3413c7bc1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b49ef0e081728d18f529d3413c7bc1e">&#9670;&nbsp;</a></span>readFramerateChunk()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Control.ControlPanel.readFramerateChunk </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image_path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to read a framerate inserted as one of a PNG image's chunks. </p>
<p>This method tries to import pyPNG first. Then it tries to install it and import again. If either import is successful, all chunks currently in the PNG image at an <code>image_path</code> are extracted. The framerate chunk ought to be stored as the second chunk, right behind IHDR. If the chunk's code type matches, its value is returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">image_path</td><td>A str containing a path to an image with the framerate chunk.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A float signifying framerate, or -1.0 if something failed. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_control_8py_source.html#l00984">984</a> of file <a class="el" href="_control_8py_source.html">Control.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    <span class="keyword">def </span>readFramerateChunk(self, image_path):</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;        <span class="comment"># import or install pyPNG</span></div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;        <span class="keywordflow">try</span>:</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;            <span class="keyword">import</span> png</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;        <span class="keywordflow">except</span> ModuleNotFoundError:</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;            <span class="keywordflow">if</span> self.installPyPNG():</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;                <span class="keyword">import</span> png</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;            <span class="keywordflow">else</span>:</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;                <span class="keywordflow">return</span> -1.0</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;        <span class="comment"># Read chunks already present in a PNG image</span></div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;        reader = png.Reader(filename=image_path)</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;        chunks = list(reader.chunks())</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;        <span class="keywordflow">if</span> chunks[1][0] == FPS_CHUNK_CODE:</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;            <span class="keywordflow">return</span> struct.unpack(<span class="stringliteral">&quot;f&quot;</span>, chunks[1][1])[0]</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;            FreeCAD.Console.PrintError(<span class="stringliteral">&quot;Unable to unpack a framerate.\n&quot;</span>)</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;            <span class="keywordflow">return</span> -1.0</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="afe39f4ab7e8fbdb8f29d8c2a960ef4a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe39f4ab7e8fbdb8f29d8c2a960ef4a1">&#9670;&nbsp;</a></span>record()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Control.ControlPanel.record </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to show and save an animation frame at an animation time <code>t</code>. </p>
<p>Current clock time is loaded. If the pause button was clicked, an animation is stopped. Otherwise the animation time <code>t</code> is distributed to appropriate children. If the animation time <code>t</code> exceeded <code>Stop Time</code>, the animation is stopped. Lastly next frame time is computed. Finally the timer is set to show the next animation frame after precomputed pause.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>An animation time to generate an animation frame at. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_control_8py_source.html#l00512">512</a> of file <a class="el" href="_control_8py_source.html">Control.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="keyword">def </span>record(self, t):</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        <span class="comment"># Check pause button was not pressed</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        <span class="keywordflow">if</span> self.last_clicked == <span class="stringliteral">&quot;pause&quot;</span>:</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;            <span class="keywordflow">return</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        <span class="comment"># Disribute the animation time to trajectories so that they change</span></div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        <span class="comment"># positions of all animated objects, save the image</span></div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        self.distributeTime(t)</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        self.updateCollisions()</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        <span class="comment"># Show changes and save view</span></div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        self.showChanges()</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        self.saveImage()</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        <span class="comment"># Display current progres on the seek slider</span></div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        self.form.sld_seek.setValue(</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                numpy.round(100*(t - self.control_proxy.StartTime)</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                            / (self.control_proxy.StopTime</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                               - self.control_proxy.StartTime)))</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        <span class="comment"># Stop the animation if the animation time reached a range boundary</span></div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        <span class="keywordflow">if</span> t &gt;= self.control_proxy.StopTime:</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;            self.last_clicked = <span class="stringliteral">&quot;pause&quot;</span></div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;            self.setInvalidButtons()</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;            <span class="keywordflow">return</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        <span class="comment"># Compute an animation time for the next frame</span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        next_t = min(t + self.control_proxy.StepTime,</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                     self.control_proxy.StopTime)</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        <span class="comment"># Setup a timer to show next frame if animaiton wasn&#39;t paused</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        <span class="keywordflow">if</span> self.last_clicked != <span class="stringliteral">&quot;pause&quot;</span>:</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;            self.timer.singleShot(0, <span class="keyword">lambda</span>: self.record(next_t))</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a86d9442163ab52ef49551f38649460dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86d9442163ab52ef49551f38649460dc">&#9670;&nbsp;</a></span>recordClicked()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Control.ControlPanel.recordClicked </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Feedback method called when record button was clicked. </p>
<p>Invalid buttons are disabled. A record prefix is generated. An Image number is set to 0. Active View's animation is disabled (Necessary). Slider position is checked for invalid position (at the end) and if position is plausible, all collisions are reset, current time is extrapolated from the slider and an animation is played/recorded. </p>

<p class="definition">Definition at line <a class="el" href="_control_8py_source.html#l00233">233</a> of file <a class="el" href="_control_8py_source.html">Control.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keyword">def </span>recordClicked(self):</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <span class="comment"># Disable everything except for the pause button</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        self.last_clicked = <span class="stringliteral">&quot;record&quot;</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        self.setInvalidButtons()</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <span class="comment"># Create an unique prefix for the image files which will be made</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        self.record_prefix = <span class="stringliteral">&quot;seq&quot;</span> + time.strftime(<span class="stringliteral">&quot;%Y%m%d%H%M%S&quot;</span>) + <span class="stringliteral">&quot;-&quot;</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="comment"># Reset image number for new image sequence</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        self.image_number = 0</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        FreeCADGui.ActiveDocument.ActiveView.setAnimationEnabled(<span class="keyword">False</span>)</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        <span class="comment"># Check that we are not already at the end of an animation range</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <span class="keywordflow">if</span> self.form.sld_seek.value() == self.form.sld_seek.maximum():</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            <span class="comment"># Show error if we are</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            QMessageBox.warning(<span class="keywordtype">None</span>, <span class="stringliteral">&#39;Error while playing&#39;</span>,</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                                <span class="stringliteral">&quot;The animation is at the end.&quot;</span>)</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            self.pauseClicked()</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            <span class="comment"># Reset collisions</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            self.resetCollisions()</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            <span class="comment"># Load current time from the time slider and start recording</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;            t = self.form.sld_seek.value() \</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                * (self.control_proxy.StopTime</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                   - self.control_proxy.StartTime) / 100 \</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                + self.control_proxy.StartTime</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            self.record(t)</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="aad3c9c2b8d26cde0bf341569f0223989"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad3c9c2b8d26cde0bf341569f0223989">&#9670;&nbsp;</a></span>reject()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Control.ControlPanel.reject </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Feedback method called when <a class="el" href="namespace_control.html" title="Classes related to the Control component of the Animate Workbench.">Control</a> panel is closing. </p>
<p>Animation is stopped. Controls properties are set to be editable. Dialog is closed. </p>

<p class="definition">Definition at line <a class="el" href="_control_8py_source.html#l00340">340</a> of file <a class="el" href="_control_8py_source.html">Control.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keyword">def </span>reject(self):</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        <span class="comment"># Stop animaiton, if it&#39;s running by clicking pause button</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        self.pauseClicked()</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <span class="comment"># Allow editing of Control properties again</span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <span class="keywordflow">for</span> prop <span class="keywordflow">in</span> self.control_proxy.PropertiesList:</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;            self.control_proxy.setEditorMode(prop, 0)</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <span class="comment"># Delete refrence to this panel from the view provider as the panel</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <span class="comment"># will no longer exist</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        self.control_proxy.ViewObject.Proxy.panel = <span class="keywordtype">None</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <span class="comment"># Close the dialog</span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        FreeCADGui.Control.closeDialog()</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a6da7944a7a17e717b8f0e3a6a252ee32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6da7944a7a17e717b8f0e3a6a252ee32">&#9670;&nbsp;</a></span>resetCollisions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Control.ControlPanel.resetCollisions </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to reset collisions from <a class="el" href="namespace_collision_detector.html" title="Classes related to the CollisionDetector component of the Animate Workbench.">CollisionDetector</a> children. </p>
<p>List of children is loaded. If a child is <code><a class="el" href="namespace_collision_detector.html" title="Classes related to the CollisionDetector component of the Animate Workbench.">CollisionDetector</a></code>, it's reset. </p>

<p class="definition">Definition at line <a class="el" href="_control_8py_source.html#l00588">588</a> of file <a class="el" href="_control_8py_source.html">Control.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="keyword">def </span>resetCollisions(self):</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        <span class="comment"># Load list of objects inside Control group</span></div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        objects = self.control_proxy.Group</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        <span class="comment"># if they are CollisionDetectors, then check for collisions</span></div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        <span class="keywordflow">while</span> len(objects) &gt; 0:</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;            obj = objects.pop(0)</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;            <span class="keywordflow">if</span> obj.Proxy.__class__.__name__ == <span class="stringliteral">&quot;CollisionDetectorProxy&quot;</span>:</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                obj.Proxy.reset()</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="aebff69649353ff03a73df73f94067a6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebff69649353ff03a73df73f94067a6e">&#9670;&nbsp;</a></span>rewind()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Control.ControlPanel.rewind </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to show an animation frame at an animation time <code>t</code> during rewind. </p>
<p>Current clock time is loaded. If the pause button was clicked, an animation is stopped. Otherwise the animation time <code>t</code> is distributed to appropriate children. If the animation time <code>t</code> exceeded <code>Stop Time</code>, the animation is stopped. Lastly next frame time is computed as well as pause time (to stick with real time if computation did not exceeded <code>Step Time</code>). Finally the timer is set to show the next animation frame after precomputed pause.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>An animation time to generate an animation frame at. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_control_8py_source.html#l00459">459</a> of file <a class="el" href="_control_8py_source.html">Control.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="keyword">def </span>rewind(self, t):</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        <span class="comment"># Load current time</span></div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        time_ = time.clock()</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        <span class="comment"># Check pause button was not pressed</span></div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        <span class="keywordflow">if</span> self.last_clicked == <span class="stringliteral">&quot;pause&quot;</span>:</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            <span class="keywordflow">return</span></div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        <span class="comment"># Disribute the animation time to trajectories so that they change</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <span class="comment"># positions of all animated objects</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        self.distributeTime(t)</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        self.updateCollisions()</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        self.showChanges()</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        <span class="comment"># Display current progres on the seek slider</span></div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        self.form.sld_seek.setValue(</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                numpy.round(100*(t - self.control_proxy.StartTime)</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                            / (self.control_proxy.StopTime</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                               - self.control_proxy.StartTime)))</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        <span class="comment"># Stop the animation if the animation time reached a range boundary</span></div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <span class="keywordflow">if</span> t &lt;= self.control_proxy.StartTime:</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            self.last_clicked = <span class="stringliteral">&quot;pause&quot;</span></div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            self.setInvalidButtons()</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;            <span class="keywordflow">return</span></div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <span class="comment"># Compute an animation time for the next frame</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        next_t = max(t - self.control_proxy.StepTime,</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                     self.control_proxy.StartTime)</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        <span class="comment"># Compute pause period so that animaiton time roughly corresponds to</span></div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        <span class="comment"># the real time</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        pause = round(1000*(self.control_proxy.StepTime + time_</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                            - time.clock()))</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        pause = pause*(pause &gt; 0)</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        <span class="comment"># Setup a timer to show next frame if animaiton wasn&#39;t paused</span></div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        <span class="keywordflow">if</span> self.last_clicked != <span class="stringliteral">&quot;pause&quot;</span>:</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;            self.timer.singleShot(pause, <span class="keyword">lambda</span>: self.rewind(next_t))</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a9a87db86d0aa194215bec0aaea51fc2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a87db86d0aa194215bec0aaea51fc2a">&#9670;&nbsp;</a></span>rewindClicked()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Control.ControlPanel.rewindClicked </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Feedback method called when rewind button was clicked. </p>
<p>Invalid buttons are disabled. Active View's animation is disabled (Necessary). Slider position is checked for invalid position (at the end) and if position is plausible, all collisions are reset, current time is extrapolated from the slider and an animation is played. </p>

<p class="definition">Definition at line <a class="el" href="_control_8py_source.html#l00202">202</a> of file <a class="el" href="_control_8py_source.html">Control.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keyword">def </span>rewindClicked(self):</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <span class="comment"># Disable everything except for the pause button</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        self.last_clicked = <span class="stringliteral">&quot;rewind&quot;</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        self.setInvalidButtons()</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        FreeCADGui.ActiveDocument.ActiveView.setAnimationEnabled(<span class="keyword">False</span>)</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <span class="comment"># Check that we are not already at the start of an animation range</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <span class="keywordflow">if</span> self.form.sld_seek.value() == self.form.sld_seek.minimum():</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            <span class="comment"># Show error if we are</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            QMessageBox.warning(<span class="keywordtype">None</span>, <span class="stringliteral">&#39;Error while rewinding&#39;</span>,</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                                <span class="stringliteral">&quot;The animation is at the beginning.&quot;</span>)</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            self.pauseClicked()</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            <span class="comment"># Reset collisions</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            self.resetCollisions()</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            <span class="comment"># Load current time from the time slider and start rewinding</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            t = self.form.sld_seek.value() \</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                * (self.control_proxy.StopTime</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                   - self.control_proxy.StartTime) / 100 \</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                + self.control_proxy.StartTime</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            self.rewind(t)</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="acb61a5c198d71b4bafb84ad597e0f978"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb61a5c198d71b4bafb84ad597e0f978">&#9670;&nbsp;</a></span>saveImage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Control.ControlPanel.saveImage </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to save current view as a PNG image. </p>
<p>An image name is pieced together from <code>record prefix</code> and <code>image number</code>. Then an image path is constructed. Animation is disabled(obligatory) and current view is saved as an image. Afterwards, if saving the first image(image number 0), a chunk with a framerate corresponding to a step size is added. Finally the image number is incremented. </p>

<p class="definition">Definition at line <a class="el" href="_control_8py_source.html#l00617">617</a> of file <a class="el" href="_control_8py_source.html">Control.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <span class="keyword">def </span>saveImage(self):</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;        <span class="comment"># Prepare complete path to an image</span></div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        name = self.record_prefix + (NAME_NUMBER_FORMAT % self.image_number) \</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;            + <span class="stringliteral">&quot;.png&quot;</span></div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        image_path = path.join(self.control_proxy.ExportPath, name)</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;        <span class="comment"># Export image and increase image number</span></div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;        FreeCADGui.ActiveDocument.ActiveView.setAnimationEnabled(<span class="keyword">False</span>)</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        FreeCADGui.ActiveDocument.ActiveView.saveImage(</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                image_path,</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                self.control_proxy.VideoWidth, self.control_proxy.VideoHeight)</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        <span class="comment"># Write a framerate chunk into the first image</span></div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        <span class="comment"># TODO</span></div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        <span class="keywordflow">if</span> self.image_number == 0:</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;            <span class="keywordflow">if</span> <span class="keywordflow">not</span> self.writeFramerateChunk(1 / self.control_proxy.StepTime,</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                                            image_path):</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;                QMessageBox.warning(</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;                            <span class="keywordtype">None</span>, <span class="stringliteral">&#39;Saving framerate failed&#39;</span>,</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;                            <span class="stringliteral">&quot;Framerate was not saved, this recorded image\n&quot;</span></div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;                            + <span class="stringliteral">&quot;sequence will not be able to be exported.\n&quot;</span></div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;                            + <span class="stringliteral">&quot;Check Report View for more info.&quot;</span>)</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        self.image_number += 1</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="affd4c45a429028fd834b8fa2ea714921"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affd4c45a429028fd834b8fa2ea714921">&#9670;&nbsp;</a></span>setInvalidButtons()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Control.ControlPanel.setInvalidButtons </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to enable/disable buttons according to a <code>last clicked</code> button. </p>
<p>If <code>pause</code> button was pressed, all others buttons are disabled. If any other button was pressed, only <code>pause</code> button is left enabled. </p>

<p class="definition">Definition at line <a class="el" href="_control_8py_source.html#l00317">317</a> of file <a class="el" href="_control_8py_source.html">Control.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keyword">def </span>setInvalidButtons(self):</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <span class="comment"># Disable invalid buttons with respect to the last clicked button</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        self.form.btn_play.setEnabled(self.last_clicked == <span class="stringliteral">&quot;pause&quot;</span> <span class="keywordflow">and</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                                      self.last_clicked != <span class="stringliteral">&quot;export&quot;</span>)</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        self.form.btn_pause.setEnabled(self.last_clicked != <span class="stringliteral">&quot;pause&quot;</span> <span class="keywordflow">and</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                                       self.last_clicked != <span class="stringliteral">&quot;export&quot;</span>)</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        self.form.btn_rewind.setEnabled(self.last_clicked == <span class="stringliteral">&quot;pause&quot;</span> <span class="keywordflow">and</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                                        self.last_clicked != <span class="stringliteral">&quot;export&quot;</span>)</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        self.form.btn_record.setEnabled(self.last_clicked == <span class="stringliteral">&quot;pause&quot;</span> <span class="keywordflow">and</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                                        self.last_clicked != <span class="stringliteral">&quot;export&quot;</span>)</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        self.form.btn_export.setEnabled(self.last_clicked == <span class="stringliteral">&quot;pause&quot;</span> <span class="keywordflow">and</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                                        self.last_clicked != <span class="stringliteral">&quot;export&quot;</span>)</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        self.form.lbl_seek.setEnabled(self.last_clicked == <span class="stringliteral">&quot;pause&quot;</span> <span class="keywordflow">and</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                                      self.last_clicked != <span class="stringliteral">&quot;export&quot;</span>)</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        self.form.sld_seek.setEnabled(self.last_clicked == <span class="stringliteral">&quot;pause&quot;</span> <span class="keywordflow">and</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                                      self.last_clicked != <span class="stringliteral">&quot;export&quot;</span>)</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a3a1624f61efdc9359785d25a3f2c75e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a1624f61efdc9359785d25a3f2c75e1">&#9670;&nbsp;</a></span>showChanges()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Control.ControlPanel.showChanges </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to show changes made to objects, collisions. </p>
<p>This method is necessary to call after <code>distributeTime</code>, <code>updateCollisions</code> and <code>resetCollisions</code>. </p>

<p class="definition">Definition at line <a class="el" href="_control_8py_source.html#l00604">604</a> of file <a class="el" href="_control_8py_source.html">Control.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="keyword">def </span>showChanges(self):</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        FreeCAD.ActiveDocument.recompute()</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        FreeCADGui.updateGui()</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a1bf1b4b192408118cfe622f85089f7c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bf1b4b192408118cfe622f85089f7c0">&#9670;&nbsp;</a></span>showSequences()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Control.ControlPanel.showSequences </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>sequences</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to show sequences to export on a dialog panel. </p>
<p>Sequences and frame numbers are shown in a QTreeView, and buttons &lsquo;'Confirm&rsquo;<code> and</code>'Abort'` are attached under it. All of this is put under the Export button on the dialog panel.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sequences</td><td>A dict with sequence names and numbers of frames. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_control_8py_source.html#l00697">697</a> of file <a class="el" href="_control_8py_source.html">Control.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <span class="keyword">def </span>showSequences(self, sequences):</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        <span class="comment"># Add names to columns</span></div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        NAME, N_FRAMES = range(2)</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;        <span class="comment"># Create a tree view  and set it up</span></div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        self.trv_sequences = QTreeView()</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        self.trv_sequences.setRootIsDecorated(<span class="keyword">False</span>)</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;        self.trv_sequences.setAlternatingRowColors(<span class="keyword">True</span>)</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        self.trv_sequences.setToolTip(<span class="stringliteral">&quot;Select a sequence to export.&quot;</span>)</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        self.trv_sequences.setSizeAdjustPolicy(</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;                self.trv_sequences.AdjustToContents)</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;        self.trv_sequences.setSizePolicy(</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;                self.trv_sequences.sizePolicy().Ignored,</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;                self.trv_sequences.sizePolicy().Minimum)</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        self.trv_sequences.header().setResizeMode(</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;                self.trv_sequences.header().Fixed)</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        self.trv_sequences.header().setDefaultSectionSize(120)</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        self.trv_sequences.setSelectionMode(self.trv_sequences.SingleSelection)</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        <span class="comment"># Prepare a table</span></div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        model = QStandardItemModel(0, 2, self.trv_sequences)</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        <span class="comment"># Prepare a header</span></div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        hdr_name = QStandardItem(<span class="stringliteral">&quot;Sequence Name&quot;</span>)</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        model.setHorizontalHeaderItem(NAME, hdr_name)</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        hdr_frames = QStandardItem(<span class="stringliteral">&quot;# of frames&quot;</span>)</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;        hdr_frames.setTextAlignment(Qt.AlignmentFlag.AlignRight)</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;        model.setHorizontalHeaderItem(N_FRAMES, hdr_frames)</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;        <span class="comment"># Add data to the table</span></div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;        <span class="keywordflow">for</span> name, frames <span class="keywordflow">in</span> sequences.items():</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;            itm_name = QStandardItem(name)</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;            itm_name.setSelectable(<span class="keyword">True</span>)</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;            itm_name.setEditable(<span class="keyword">False</span>)</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;            itm_frames = QStandardItem(str(frames))</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;            itm_frames.setSelectable(<span class="keyword">True</span>)</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;            itm_frames.setEditable(<span class="keyword">False</span>)</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;            itm_frames.setTextAlignment(Qt.AlignmentFlag.AlignRight)</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;            model.appendRow((itm_name, itm_frames))</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;        <span class="comment"># Add the table to the tree view</span></div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;        self.trv_sequences.setModel(model)</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        <span class="comment"># Add the tree view to the panel under the EXPORT button</span></div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;        self.form.lyt_main.insertWidget(5, self.trv_sequences)</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        <span class="comment"># Make column with the numbers of frames smaller</span></div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;        self.trv_sequences.setColumnWidth(1, 80)</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;        <span class="comment"># Select the first item</span></div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        self.trv_sequences.setCurrentIndex(model.index(0, 0))</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;        <span class="comment"># Add horizontal layout under the tree view</span></div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        self.lyt_export = QHBoxLayout()</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;        self.form.lyt_main.insertLayout(6, self.lyt_export)</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;        <span class="comment"># Add buttons for confirmation of a selected sequence and</span></div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        <span class="comment"># export abortion</span></div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;        self.btn_confirm = QPushButton(<span class="stringliteral">&quot;Confirm&quot;</span>)</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;        self.btn_confirm.setStyleSheet(</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;            <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;<span class="stringliteral">            QPushButton {</span></div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;<span class="stringliteral">                background-color: qlineargradient(x1: 0, y1: 0, x2: 0, y2: 1,</span></div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<span class="stringliteral">                                            stop: 0 #0B0, stop: 1.0 #0D0);</span></div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;<span class="stringliteral">                font-weight: bold;</span></div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;<span class="stringliteral">            }</span></div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="stringliteral">            QPushButton:hover {border-color: #0D0;}</span></div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;<span class="stringliteral">            QPushButton:focus {</span></div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;<span class="stringliteral">                background-color: qlineargradient(x1: 0, y1: 0, x2: 0, y2: 1,</span></div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;<span class="stringliteral">                                            stop: 0 #0C0, stop: 1.0 #0F0);</span></div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;<span class="stringliteral">                border-color: #0E0; color: #FFF;</span></div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;<span class="stringliteral">            }</span></div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;<span class="stringliteral">            QPushButton:pressed {</span></div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;<span class="stringliteral">                background-color: qlineargradient(x1: 0, y1: 0, x2: 0, y2: 1,</span></div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;<span class="stringliteral">                                            stop: 0 #0F0, stop: 1.0 #0C0);</span></div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;<span class="stringliteral">            }&quot;&quot;&quot;</span>)</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        self.btn_confirm.clicked.connect(self.exportConfirmed)</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;        self.btn_abort = QPushButton(<span class="stringliteral">&quot;Abort&quot;</span>)</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        self.btn_abort.setStyleSheet(</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;            <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;<span class="stringliteral">            QPushButton {</span></div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;<span class="stringliteral">                background-color: qlineargradient(x1: 0, y1: 0, x2: 0, y2: 1,</span></div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;<span class="stringliteral">                                            stop: 0 #B00, stop: 1.0 #D00);</span></div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;<span class="stringliteral">                font-weight: bold;</span></div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;<span class="stringliteral">            }</span></div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;<span class="stringliteral">            QPushButton:hover {border-color: #D00;}</span></div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;<span class="stringliteral">            QPushButton:focus {</span></div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;<span class="stringliteral">                background-color: qlineargradient(x1: 0, y1: 0, x2: 0, y2: 1,</span></div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;<span class="stringliteral">                                            stop: 0 #C00, stop: 1.0 #F00);</span></div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;<span class="stringliteral">                border-color: #E00; color: #FFF;</span></div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;<span class="stringliteral">            }</span></div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;<span class="stringliteral">            QPushButton:pressed {</span></div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;<span class="stringliteral">                background-color: qlineargradient(x1: 0, y1: 0, x2: 0, y2: 1,</span></div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;<span class="stringliteral">                                            stop: 0 #F00, stop: 1.0 #C00);</span></div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;<span class="stringliteral">            }&quot;&quot;&quot;</span>)</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;        self.btn_abort.clicked.connect(self.exportAborted)</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;        self.lyt_export.addWidget(self.btn_confirm)</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        self.lyt_export.addWidget(self.btn_abort)</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        <span class="comment"># Create a function to disable deselection</span></div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        <span class="keyword">def </span>mySelectionChanged(selected, deselected):</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;            <span class="keywordflow">if</span> selected.isEmpty() <span class="keywordflow">and</span> <span class="keywordflow">not</span> deselected.isEmpty():</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                self.trv_sequences.selectionModel().select(</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                        deselected.first().indexes()[0],</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;                        self.trv_sequences.selectionModel().Select</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;                        | self.trv_sequences.selectionModel().Rows)</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        <span class="comment"># Connect the function as a slot for signal emitted when selection is</span></div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;        <span class="comment"># changed</span></div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        self.trv_sequences.selectionModel().selectionChanged.connect(</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;                mySelectionChanged)</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a8beed6224f18e2934bb5c14580354276"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8beed6224f18e2934bb5c14580354276">&#9670;&nbsp;</a></span>sliderChanged()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Control.ControlPanel.sliderChanged </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Feedback method called when slider position is changed. </p>
<p>If slider is enabled (not used to show animation time) and slider position is changed, time is extrapolated from slider position and animation in that time is shown. </p>

<p class="definition">Definition at line <a class="el" href="_control_8py_source.html#l00298">298</a> of file <a class="el" href="_control_8py_source.html">Control.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keyword">def </span>sliderChanged(self):</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <span class="comment"># Check if the slider is enabled i.e. the change is an user input,</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <span class="comment"># not a visualization of animation progress</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <span class="keywordflow">if</span> self.form.sld_seek.isEnabled():</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            <span class="comment"># Load current time from the time slider and show it.</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;            t = self.form.sld_seek.value() \</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                * (self.control_proxy.StopTime</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                   - self.control_proxy.StartTime) / 100 \</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                + self.control_proxy.StartTime</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;            self.distributeTime(t)</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;            self.updateCollisions()</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            self.showChanges()</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="afc7f7673b5c6326979bf9b1d0a074f53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc7f7673b5c6326979bf9b1d0a074f53">&#9670;&nbsp;</a></span>updateCollisions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Control.ControlPanel.updateCollisions </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to update collisions from <a class="el" href="namespace_collision_detector.html" title="Classes related to the CollisionDetector component of the Animate Workbench.">CollisionDetector</a> children. </p>
<p>List of children is loaded. If a child is <code><a class="el" href="namespace_collision_detector.html" title="Classes related to the CollisionDetector component of the Animate Workbench.">CollisionDetector</a></code>, it's touched so that it's recomputed. </p>

<p class="definition">Definition at line <a class="el" href="_control_8py_source.html#l00573">573</a> of file <a class="el" href="_control_8py_source.html">Control.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <span class="keyword">def </span>updateCollisions(self):</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        <span class="comment"># Load list of objects inside Control group</span></div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        objects = self.control_proxy.Group</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        <span class="comment"># if they are CollisionDetectors, then check for collisions</span></div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        <span class="keywordflow">while</span> len(objects) &gt; 0:</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;            obj = objects.pop(0)</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;            <span class="keywordflow">if</span> obj.Proxy.__class__.__name__ == <span class="stringliteral">&quot;CollisionDetectorProxy&quot;</span>:</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                obj.touch()</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a47f75be1a9b762971bc009c43afaef44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47f75be1a9b762971bc009c43afaef44">&#9670;&nbsp;</a></span>writeFramerateChunk()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Control.ControlPanel.writeFramerateChunk </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>framerate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image_path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to write a framerate into a PNG image as one of its chunks. </p>
<p>This method tries to import pyPNG first. Then it tries to install it and import again. If either import is successful, all chunks currently in the PNG image at an <code>image_path</code> are extracted. The framerate chunk is added as the second chunk, right behind IHDR. Finally the image is rewritten with new list of chunks.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">framerate</td><td>A float specifying the framerate to be written into the image. </td></tr>
    <tr><td class="paramname">image_path</td><td>A str containing a path to an image about to be augmented. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_control_8py_source.html#l00944">944</a> of file <a class="el" href="_control_8py_source.html">Control.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    <span class="keyword">def </span>writeFramerateChunk(self, framerate, image_path):</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;        <span class="comment"># import or install pyPNG</span></div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;        <span class="keywordflow">try</span>:</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;            <span class="keyword">import</span> png</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;        <span class="keywordflow">except</span> ModuleNotFoundError:</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;            <span class="keywordflow">if</span> self.installPyPNG():</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;                <span class="keyword">import</span> png</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;            <span class="keywordflow">else</span>:</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">False</span></div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;        <span class="keywordflow">except</span> Exception <span class="keyword">as</span> e:</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;            FreeCAD.Consol.PrintError(</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;                <span class="stringliteral">&quot;Unexpected error occured while importing pyPNG - &quot;</span> + str(e))</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;        <span class="comment"># Read chunks already present in a PNG image</span></div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;        reader = png.Reader(filename=image_path)</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;        chunks = list(reader.chunks())</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;        <span class="comment"># Insert custom framerate chunk</span></div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;        chunks.insert(1, (FPS_CHUNK_CODE, struct.pack(<span class="stringliteral">&quot;f&quot;</span>, framerate)))</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;        <span class="comment"># Write it into the image</span></div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;        <span class="keyword">with</span> open(image_path, <span class="stringliteral">&#39;wb&#39;</span>) <span class="keyword">as</span> image_file:</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;            png.write_chunks(image_file, chunks)</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">True</span></div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a5c11609f9c8fa8da63213d662ac60111"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c11609f9c8fa8da63213d662ac60111">&#9670;&nbsp;</a></span>btn_abort</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Control.ControlPanel.btn_abort</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A QPushButton to abort exporting a sequence. </p>

<p class="definition">Definition at line <a class="el" href="_control_8py_source.html#l00773">773</a> of file <a class="el" href="_control_8py_source.html">Control.py</a>.</p>

</div>
</div>
<a id="aaa7200092d16a9b8c4504f35cab2819d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa7200092d16a9b8c4504f35cab2819d">&#9670;&nbsp;</a></span>btn_confirm</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Control.ControlPanel.btn_confirm</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A QPushButton to confirm sequence to export. </p>

<p class="definition">Definition at line <a class="el" href="_control_8py_source.html#l00754">754</a> of file <a class="el" href="_control_8py_source.html">Control.py</a>.</p>

</div>
</div>
<a id="aaf99331174bbf41f86be4507f65af7c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf99331174bbf41f86be4507f65af7c0">&#9670;&nbsp;</a></span>control_proxy</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Control.ControlPanel.control_proxy</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A proxy to an associated <code><a class="el" href="namespace_control.html" title="Classes related to the Control component of the Animate Workbench.">Control</a></code> class. </p>

<p class="definition">Definition at line <a class="el" href="_control_8py_source.html#l00129">129</a> of file <a class="el" href="_control_8py_source.html">Control.py</a>.</p>

</div>
</div>
<a id="a540c2afe3eab2da894d87b9da847f72f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a540c2afe3eab2da894d87b9da847f72f">&#9670;&nbsp;</a></span>form</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Control.ControlPanel.form</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A QDialog instance show in the TaskView. </p>

<p class="definition">Definition at line <a class="el" href="_control_8py_source.html#l00136">136</a> of file <a class="el" href="_control_8py_source.html">Control.py</a>.</p>

</div>
</div>
<a id="a5dcaaf8fd41e44878b093198bcf0134d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5dcaaf8fd41e44878b093198bcf0134d">&#9670;&nbsp;</a></span>image_number</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Control.ControlPanel.image_number</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>An int number of a next recorded image. </p>

<p class="definition">Definition at line <a class="el" href="_control_8py_source.html#l00241">241</a> of file <a class="el" href="_control_8py_source.html">Control.py</a>.</p>

</div>
</div>
<a id="a048bdbf2e96f3183b750f7b7306ca36a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a048bdbf2e96f3183b750f7b7306ca36a">&#9670;&nbsp;</a></span>last_clicked</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Control.ControlPanel.last_clicked</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A str showing which button was pressed last. </p>

<p class="definition">Definition at line <a class="el" href="_control_8py_source.html#l00151">151</a> of file <a class="el" href="_control_8py_source.html">Control.py</a>.</p>

</div>
</div>
<a id="aead45d91a199a6c5c9104c2ed0947463"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aead45d91a199a6c5c9104c2ed0947463">&#9670;&nbsp;</a></span>lyt_export</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Control.ControlPanel.lyt_export</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A QHBoxLayout with a <code>confirm</code> and <code>abort</code> buttons. </p>

<p class="definition">Definition at line <a class="el" href="_control_8py_source.html#l00749">749</a> of file <a class="el" href="_control_8py_source.html">Control.py</a>.</p>

</div>
</div>
<a id="a6f701c7beeef45e6abe3b498638581c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f701c7beeef45e6abe3b498638581c4">&#9670;&nbsp;</a></span>record_prefix</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Control.ControlPanel.record_prefix</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A str prefix for an image file name. </p>

<p class="definition">Definition at line <a class="el" href="_control_8py_source.html#l00239">239</a> of file <a class="el" href="_control_8py_source.html">Control.py</a>.</p>

</div>
</div>
<a id="af997285cbf0251e3c7274519cc17aa91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af997285cbf0251e3c7274519cc17aa91">&#9670;&nbsp;</a></span>timer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Control.ControlPanel.timer</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A QTimer for timing animations. </p>

<p class="definition">Definition at line <a class="el" href="_control_8py_source.html#l00147">147</a> of file <a class="el" href="_control_8py_source.html">Control.py</a>.</p>

</div>
</div>
<a id="ac48a6da684c80114c58b20d5e8458df2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac48a6da684c80114c58b20d5e8458df2">&#9670;&nbsp;</a></span>trv_sequences</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Control.ControlPanel.trv_sequences</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A QTreeView showing list of recorded sequences. </p>

<p class="definition">Definition at line <a class="el" href="_control_8py_source.html#l00702">702</a> of file <a class="el" href="_control_8py_source.html">Control.py</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Doxypypy outputs/<a class="el" href="_control_8py_source.html">Control.py</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.15-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
	<p>Generated on Fri Oct 4 2019 10:20:48 for Animate by</p>
</div>
<script type="text/javascript">
 	let date_start = $("#nav-path p").text().indexOf("on");
	let date_end = $("#nav-path p").text().indexOf(" for");
	let date = $("#nav-path p").text().substring(date_start, date_end);
	$("#nav-path p").text("~ Last updated " + date + " ~");
 </script>
</body>
</html>
